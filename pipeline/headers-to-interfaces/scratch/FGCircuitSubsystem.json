[
  {
    "kind": "class",
    "name": "AFGCircuitSubsystem",
    "category": "UCLASS",
    "comment": "Subsystem to handle all circuits, connects, disconnects.",
    "extends": [
      "AFGSubsystem",
      "IFGSaveInterface"
    ],
    "methods": [
      {
        "name": "GetLifetimeReplicatedProps",
        "comment": "Replication.",
        "returnType": "void"
      },
      {
        "name": "ReplicateSubobjects",
        "returnType": "bool"
      },
      {
        "name": "PreReplication",
        "returnType": "void"
      },
      {
        "name": "CallPreReplication",
        "returnType": "void"
      },
      {
        "name": "Get",
        "comment": "Get the circuit subsystem.",
        "returnType": "AFGCircuitSubsystem*"
      },
      {
        "name": "GetCircuitSubsystem",
        "comment": "Get the circuit subsystem",
        "returnType": "AFGCircuitSubsystem*"
      },
      {
        "name": "PreSaveGame_Implementation",
        "comment": "Begin IFGSaveInterface",
        "returnType": "void"
      },
      {
        "name": "PostSaveGame_Implementation",
        "returnType": "void"
      },
      {
        "name": "PreLoadGame_Implementation",
        "returnType": "void"
      },
      {
        "name": "PostLoadGame_Implementation",
        "returnType": "void"
      },
      {
        "name": "GatherDependencies_Implementation",
        "returnType": "void"
      },
      {
        "name": "NeedTransform_Implementation",
        "returnType": "bool"
      },
      {
        "name": "ShouldSave_Implementation",
        "returnType": "bool"
      },
      {
        "name": "AFGCircuitSubsystem",
        "comment": "End IFSaveInterface"
      },
      {
        "name": "Serialize",
        "comment": "Begin AActor interface",
        "returnType": "void"
      },
      {
        "name": "BeginPlay",
        "returnType": "void"
      },
      {
        "name": "Tick",
        "returnType": "void"
      },
      {
        "name": "DebugRebuildAll",
        "comment": "Debug function to trigger a rebuild on all circuits.",
        "returnType": "void"
      },
      {
        "name": "DisplayDebug",
        "comment": "ShowDebug POWER\n@see Super",
        "returnType": "void"
      },
      {
        "name": "FindCircuit",
        "comment": "\n @note The returned pointer is only valid this tick or until a change is made to the circuitry by calling CreateCircuit, RemoveCircuit, ConnectComponents.",
        "returnType": "classUFGCircuit*"
      },
      {
        "name": "FindCircuit",
        "comment": "Template version of find circuit.",
        "returnType": "T*"
      },
      {
        "name": "ConnectComponents",
        "comment": "\n @note This invalidates any pointers to a circuit.",
        "returnType": "void"
      },
      {
        "name": "DisconnectComponents",
        "comment": "\n @note Multiple calls to this functions the same frame only triggers one rebuild.",
        "returnType": "void"
      },
      {
        "name": "RemoveComponent",
        "comment": "\n @note If the connection component does not have a valid circuit ID this does nothing.",
        "returnType": "void"
      },
      {
        "name": "PowerCircuit_OnFuseSet",
        "comment": "Called when a power circuit lost power.",
        "returnType": "void"
      },
      {
        "name": "PowerCircuit_OnFuseReset",
        "comment": "Called when a power circuit had it's power restored.",
        "returnType": "void"
      },
      {
        "name": "OnRep_ReplicatedCircuits",
        "comment": "Let the clients know about changes in the circuits.",
        "returnType": "void"
      },
      {
        "name": "GenerateUniqueCircuitID",
        "comment": "Get a new unique ID.",
        "returnType": "int32"
      },
      {
        "name": "MergeCircuits",
        "comment": "Internal helpers to manage circuits.",
        "returnType": "void"
      },
      {
        "name": "CreateCircuit",
        "returnType": "int32"
      },
      {
        "name": "RemoveCircuit",
        "returnType": "void"
      },
      {
        "name": "AddComponentToCircuit",
        "comment": "Adds a connection component to a circuit, performs a circuit merge if the component is already connected to another circuit.",
        "returnType": "void"
      }
    ],
    "properties": [
      {
        "name": "mCircuits",
        "comment": "Map with all circuits and the circuit ID as the key.",
        "type": "TMap<int32,classUFGCircuit*>"
      },
      {
        "name": "mReplicatedCircuits",
        "comment": "@todo There is no support for TMap replication, fix something better than this.",
        "type": "TArray<classUFGCircuit*>"
      },
      {
        "name": "IDCounter",
        "comment": "Counter for generating new circuit ids.",
        "type": "int32"
      }
    ]
  }
]