[
  {
    "kind": "class",
    "name": "FMaterialFlowGraph",
    "category": "USTRUCT",
    "comment": "The resulting DAG from a flow analysis.",
    "extends": [],
    "methods": [
      {
        "name": "GetDepth",
        "comment": "@return Depth of the resulting graph.",
        "returnType": "int32"
      },
      {
        "name": "GetNodes",
        "comment": "Get all nodes, optionally at a certain depth.",
        "returnType": "TArray<structFMaterialFlowNode*>"
      },
      {
        "name": "CreateNodeFromRecipe",
        "returnType": "structFMaterialFlowNode*"
      },
      {
        "name": "CreateNodeFromOutput",
        "returnType": "structFMaterialFlowNode*"
      },
      {
        "name": "SortNodes",
        "comment": "Sort nodes by depth.",
        "returnType": "void"
      },
      {
        "name": "UpdateTotals",
        "comment": "Nodes must be sorted for this to give proper results.",
        "returnType": "void"
      }
    ],
    "properties": [
      {
        "name": "Nodes",
        "type": "TArray<TSharedRef<structFMaterialFlowNode>>"
      }
    ]
  },
  {
    "kind": "class",
    "name": "FMaterialFlowConnection",
    "category": "USTRUCT",
    "comment": "Input/output in the flow analysis.",
    "extends": [],
    "methods": [
      {
        "name": "FMaterialFlowConnection"
      }
    ],
    "properties": [
      {
        "name": "Descriptor",
        "comment": "Details about the material flow in this step.",
        "type": "TSubclassOf<UFGItemDescriptor>"
      },
      {
        "name": "Count",
        "comment": "Base count. [items/cycle]",
        "type": "int32"
      },
      {
        "name": "Flow",
        "comment": "Base flow. [items/second]",
        "type": "float"
      },
      {
        "name": "TotalCount",
        "comment": "Total count. [items/cycle]",
        "type": "int32"
      },
      {
        "name": "TotalFlow",
        "comment": "Total flow. [items/second]",
        "type": "float"
      }
    ]
  },
  {
    "kind": "class",
    "name": "FMaterialFlowNode",
    "category": "USTRUCT",
    "comment": "Material flow node.",
    "extends": [],
    "methods": [
      {
        "name": "FMaterialFlowNode"
      }
    ],
    "properties": [
      {
        "name": "Recipe",
        "comment": "Recipe analyzed, nullptr for leaf nodes.",
        "type": "TSubclassOf<UFGRecipe>"
      },
      {
        "name": "Depth",
        "comment": "At which depth in the dependency tree is this item, root is 0.",
        "type": "int32"
      },
      {
        "name": "ProducerCount",
        "comment": "How many producers are needed for this recipe.",
        "type": "int32"
      },
      {
        "name": "Outputs",
        "comment": "Parent flow nodes, 0 for root nodes.",
        "type": "TArray<FMaterialFlowConnection>"
      },
      {
        "name": "Inputs",
        "comment": "Child flow nodes, 0 for leaf nodes.",
        "type": "TArray<FMaterialFlowConnection>"
      }
    ]
  },
  {
    "kind": "class",
    "name": "UFGMaterialFlowAnalysisFunctionLibrary",
    "category": "UCLASS",
    "comment": "Function library for material flow analysis in the factory.",
    "extends": [
      "UBlueprintFunctionLibrary"
    ],
    "methods": [
      {
        "name": "PerformMaterialFlowAnalysis",
        "comment": "Perform a material flow analysis on the given recipe.",
        "returnType": "FMaterialFlowGraph"
      },
      {
        "name": "PerformMaterialFlowAnalysis",
        "comment": "Perform a material flow analysis on the given recipe.",
        "returnType": "FMaterialFlowGraph"
      },
      {
        "name": "GetGraphDepth",
        "comment": "Get the depth of the material flow graph.",
        "returnType": "int32"
      },
      {
        "name": "GetGraphNodes",
        "comment": "Get nodes in the material flow graph at a certain depth, -1 to get all nodes.",
        "returnType": "TArray<FMaterialFlowNode>"
      },
      {
        "name": "MaterialFlowAnalysisToLog",
        "comment": "Helpers to implement the exec functions.",
        "returnType": "void"
      },
      {
        "name": "MaterialLookupToLog",
        "returnType": "void"
      }
    ],
    "properties": []
  }
]