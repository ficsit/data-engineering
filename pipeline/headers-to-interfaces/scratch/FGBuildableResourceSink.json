[
  {
    "kind": "class",
    "name": "AFGBuildableResourceSink",
    "category": "UCLASS",
    "comment": "Building that you can sink items into to get points",
    "extends": [
      "AFGBuildableFactory"
    ],
    "methods": [
      {
        "name": "AFGBuildableResourceSink"
      },
      {
        "name": "GetLifetimeReplicatedProps",
        "comment": "Begin AActor interface",
        "returnType": "void"
      },
      {
        "name": "BeginPlay",
        "returnType": "void"
      },
      {
        "name": "Destroyed",
        "returnType": "void"
      },
      {
        "name": "PreSaveGame_Implementation",
        "comment": "Begin IFGSaveInterface",
        "returnType": "void"
      },
      {
        "name": "PostLoadGame_Implementation",
        "returnType": "void"
      },
      {
        "name": "Factory_CollectInput_Implementation",
        "comment": "Begin BuildableFactoryInterface",
        "returnType": "void"
      },
      {
        "name": "CanProduce_Implementation",
        "returnType": "bool"
      },
      {
        "name": "GetCouponInventory",
        "comment": "Get the inventory where we store coupons for this resource sink",
        "returnType": "classUFGInventoryComponent*"
      },
      {
        "name": "ClaimCoupons",
        "comment": "Claims the given number of coupons. If less coupons than the given num is available it will claim the maximum amount available.\nReturns number of claimed coupons",
        "returnType": "int32"
      },
      {
        "name": "ReturnUnclaimedCoupons",
        "comment": "Coupons that's still in the sink inventory will be removed from the inventory and given back to the resource sink subsystem",
        "returnType": "void"
      },
      {
        "name": "StartProducingTimer",
        "comment": "Used to start the producing timer from non-game thread",
        "returnType": "void"
      }
    ],
    "properties": [
      {
        "name": "mCouponInventory",
        "type": "classUFGInventoryComponent*"
      },
      {
        "name": "mFactoryInputConnections",
        "comment": "Cached factory input connections",
        "type": "TArray<classUFGFactoryConnectionComponent*>"
      },
      {
        "name": "mResourceSinkSubsystem",
        "comment": "Cached resource sink subsystem",
        "type": "classAFGResourceSinkSubsystem*"
      },
      {
        "name": "mCouponClass",
        "comment": "The item descriptor that should be used as a coupon",
        "type": "TSubclassOf<classUFGItemDescriptor>"
      },
      {
        "name": "mProcessingTime",
        "comment": "How long after the last sunk item should we stop producing",
        "type": "float"
      },
      {
        "name": "mSavedProducingTimer",
        "comment": "How long we have left on the timer when saving the game",
        "type": "float"
      },
      {
        "name": "mProducingTimer",
        "comment": "so whenever we sink an item we reset the timer. If the timer is active we are producing. Used to avoid choppy triggers for animation/vfx/sound.\nIf we ever have the need for tick in this class we can move this functionality there with our own timer based on a float or similar.",
        "type": "FTimerHandle"
      }
    ]
  }
]